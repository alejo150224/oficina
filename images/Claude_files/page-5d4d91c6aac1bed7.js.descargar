(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{5805:function(e,n,t){Promise.resolve().then(t.bind(t,22303))},22303:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t(27573),u=t(31257),i=t(54181),a=t(7653);function o(){let e=(0,u.wy)();return(0,a.useState)(()=>e(null)),(0,r.jsx)(i.Z,{})}},54603:function(e,n,t){"use strict";var r=t(2988);t.o(r,"notFound")&&t.d(n,{notFound:function(){return r.notFound}}),t.o(r,"redirect")&&t.d(n,{redirect:function(){return r.redirect}}),t.o(r,"usePathname")&&t.d(n,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(n,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(n,{useSearchParams:function(){return r.useSearchParams}})},96755:function(e,n,t){"use strict";t.d(n,{Ck:function(){return g},IR:function(){return d},Pd:function(){return m},WQ:function(){return f},_y:function(){return h},aj:function(){return u},gq:function(){return v},uV:function(){return s},xo:function(){return l},yq:function(){return p}});var r,u,i=t(83041),a=t(11492),o=t(35146),c=t(84983);let s=()=>(0,i.WE)("/api/legal",{staleTime:1/0,meta:{noToast:!0}}),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.useIsClaudeDot)();return(0,i.uC)("/api/auth/send_code","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.useIsClaudeDot)();return(0,i.uC)("/api/auth/verify_code","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.useIsClaudeDot)();return(0,i.uC)("/api/auth/verify_google","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,a.useIsClaudeDot)();return(0,i.uC)("/api/auth/accept_invite","POST",{...e,transformVariables:e=>({...e,source:n?"claude":"console"})})},h=()=>(0,i.uC)("/api/auth/logout","POST"),p=()=>{let e=(0,c.useQueryClient)();return(0,i.uC)("/api/account","PUT",{async onSuccess(){await e.invalidateQueries([o.aY])}})},g=()=>(0,i.Ne)("/api/account","PUT",(e,n)=>(null==n?void 0:n.account)?{...n,account:{...n.account,settings:e}}:n,{queryKey:[o.aY],transformVariables:e=>({settings:e})});function v(e){return(0,i.WE)("/api/signups/".concat(e),{enabled:!!e})}(r=u||(u={})).Accepted="accepted",r.Expired="expired",r.Deleted="deleted",r.Pending="pending"},31257:function(e,n,t){"use strict";t.d(n,{A6:function(){return _},AO:function(){return w},C2:function(){return k},Io:function(){return C},M:function(){return d},Z1:function(){return A},_A:function(){return P},ao:function(){return E},c6:function(){return h},cG:function(){return v},dF:function(){return x},nJ:function(){return S},wJ:function(){return m},wy:function(){return j},z6:function(){return b},zW:function(){return R}});var r=t(11492),u=t(23532),i=t(90974),a=t(16096),o=t(59374);t(88337);var c=t(54603),s=t(7653),l=t(80248),f=t(96755);function d(e,n){for(let t of e.invites)if(t.organization.capabilities&&t.organization.capabilities.includes(n))return t}let m=(e,n)=>{let t=!1===e.settings.has_finished_claudeai_onboarding;return!e.full_name||!e.display_name||!!n&&t},h=(e,n)=>n&&!e.completed_verification_at,p=(e,n)=>!!d(e,n?"raven":"api"),g=(e,n)=>!n&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,v=(e,n)=>m(e,n)||h(e,n)||p(e,n)||g(e,n),b=()=>{let e=(0,c.useRouter)(),n=(0,u.useCookies)();return{refresh:()=>{e.refresh()},switchAndRefresh:(e,t)=>{n.set(i.c.LAST_ACTIVE_ORG,e),t?location.pathname=t:location.reload()}}},y=e=>{let{account:n}=(0,a.useCurrentAccount)();return n&&(m(n,e)||h(n,e))?"/onboarding":n&&p(n,e)?"/invites":n&&g(n,e)?"/create":e?"/chats":"/dashboard"},_=["privacy"],C=["aup","consumer-terms"],x=[..._,...C],w=(e,n)=>{let{data:t}=(0,f.uV)(),{mutateAsync:r}=(0,f.yq)();return(0,s.useCallback)(async()=>{if(!e||!t)return;let u=n.map(e=>t[e]),i=Object.fromEntries(u.map(e=>{let n=e.split(":");return[n[1],n[2]]}));n.some(n=>{let t=null==e?void 0:e.accepted_clickwrap_versions[n],r=i[n];return r&&(!t||t!==r)})&&await r({accept_document_ids:u})},[e,t,r,n])},P=(e,n)=>{let{account:t,refetch:r,setActiveOrganizationUUID:u}=(0,a.useCurrentAccount)(),[i,c]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),m=S(),{addSuccess:h}=(0,o.useToasts)(),{data:p}=(0,f.gq)(e);return(0,s.useEffect)(()=>{t&&i&&l&&(n?n(m):m())},[l,m,i,t,n]),(0,s.useCallback)(async()=>{c(!0),await r(),(null==p?void 0:p.organization_uuid)&&(u(p.organization_uuid),h("Successfully joined ".concat(p.organization_name))),d(!0)},[p,h,r,u])},S=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,c.useSearchParams)().get("returnTo"),t=j(e);return(0,s.useCallback)(()=>{t(n)},[t,n])},j=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{account:n}=(0,a.useCurrentAccount)(),[t,u]=(0,s.useState)(!1),i=(0,c.useRouter)(),[o,l]=(0,s.useState)(null),f=(0,c.usePathname)(),d=(0,c.useSearchParams)(),m=(0,r.useIsClaudeDot)(),h=y(m);return(0,s.useEffect)(()=>{(t||e)&&!n&&i.push(k(f,d.toString()))},[n,i,t,e,f,d]),(0,s.useEffect)(()=>{if(t&&n){let e=T(n,o,h,m);i.push(e)}},[n,i,t,o,h,m]),(0,s.useCallback)(e=>{e&&l(e),u(!0)},[])},T=(e,n,t,r)=>{if(!n||!n.startsWith("/"))return t;if(v(e,r)){let e=new URLSearchParams({returnTo:n});return"".concat(t,"?").concat(e.toString())}return E(n)},k=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u="".concat(e,"?").concat(n),i=new URLSearchParams(r);return i.append("returnTo",u),"".concat(t,"?").concat(i.toString())};function E(e){return new URL(e,"http://example.com").pathname}function A(){let[e,n]=(0,s.useState)(!1);return{getRecaptchaToken:(0,s.useCallback)(async(e,t)=>(n(!0),new Promise((r,u)=>{if("undefined"==typeof grecaptcha)return n(!1),u(Error("Recaptcha failed to load"));grecaptcha.enterprise.ready(()=>{grecaptcha.enterprise.execute(e,{action:t}).then(e=>{r(e),n(!1)},e=>{n(!1),u(e)})})})),[]),isLoading:e}}let R=()=>{let{account:e}=(0,a.useCurrentAccount)(),{config:n}=(0,l.useConfig)("public_email_domains");return n.get("domains",[]).some(n=>null==e?void 0:e.email_address.endsWith("@".concat(n)))}},59374:function(e,n,t){"use strict";t.r(n),t.d(n,{ErrorsProvider:function(){return a},useToasts:function(){return o}});var r=t(27573),u=t(7653);let i=(0,u.createContext)(void 0);function a(e){let{children:n}=e,t=(0,u.useRef)(1),[a,o]=(0,u.useState)([]),c=(0,u.useCallback)(e=>{let n=t.current++;return o(t=>[...t,{id:n,message:e instanceof Error?e.message:e,toastType:"error"}]),n},[]),s=(0,u.useCallback)(e=>{let n=t.current++;return o(t=>[...t,{id:n,message:e instanceof Error?e.message:e,toastType:"success"}]),n},[]),l=(0,u.useCallback)(e=>{o(n=>n.filter(n=>n.id!==e))},[]),f=(0,u.useMemo)(()=>({toasts:a,addError:c,addSuccess:s,clearToast:l}),[a,c,s,l]);return(0,r.jsx)(i.Provider,{value:f,children:n})}function o(){let e=(0,u.useContext)(i);if(!e)throw Error("Must be called within ErrorsProvider");return e}},2715:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(27573),u=t(44115);function i(e){let{size:n="md",fullscreen:t=!1,inheritColor:i}=e;return(0,r.jsx)("div",{className:(0,u.Z)(t?"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2":"m-auto"),children:(0,r.jsx)("div",{className:(0,u.Z)("sm"===n&&"h-4 w-4 border-2","md"===n&&"h-20 w-20 border-8",i?"border-current":"border-border-200","inline-block animate-spin rounded-full border-solid  border-r-transparent align-[-0.125em] text-secondary motion-reduce:animate-[spin_1.5s_linear_infinite]"),role:"status",children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})})}},54181:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(27573),u=t(2715),i=t(84429);function a(e){let{cover:n}=e,t=(0,r.jsx)(i.default,{headline:(0,r.jsx)(u.Z,{})});return n?(0,r.jsx)("div",{className:"fixed inset-0 grid place-items-center bg-bg-200 z-10",children:t}):t}},84429:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var r=t(58936),u=t(27573),i=t(92472);function a(){let e=(0,r._)(["\n  mx-0\n  my-auto\n  min-w-[16rem]\n  [&_button]:w-full\n"]);return a=function(){return e},e}function o(){let e=(0,r._)(["\n  grid\n  place-content-center\n  h-full\n  min-h-min\n  text-center\n  gap-6\n  pt-24\n  pb-32\n  px-4\n  mx-auto\n  h-screen\n"]);return o=function(){return e},e}function c(){let e=(0,r._)(["\n  font-styrene-display\n  font-medium\n  tracking-tighter\n  leading-[0.9em]\n  text-[clamp(1rem,12vw,3.5rem)]\n"]);return c=function(){return e},e}function s(){let e=(0,r._)(["\n  font-styrene\n  text-text-300\n  text-[clamp(0.9rem,5vw,1.2rem)]\n"]);return s=function(){return e},e}function l(e){let{headline:n,subheading:t,button:r,testId:i,wide:a}=e;return(0,u.jsxs)(d,{"data-testid":i,className:a?"w-fit":"max-w-min",children:[(0,u.jsx)(m,{children:n}),t&&(0,u.jsx)(h,{children:t}),(0,u.jsx)(f,{children:r})]})}t(7653);let f=i.Z.div(a()),d=i.Z.div(o()),m=i.Z.h2(c()),h=i.Z.h3(s())},92472:function(e,n,t){"use strict";var r=t(44115),u=t(7653);function i(e){return function(n){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];let o=n.map(e=>e.replace(/\n/g,"").trim()),c=u.forwardRef((n,t)=>{let{className:a,...c}=n,s=i.map(e=>"function"==typeof e?e(n):e);return u.createElement(e,{...c,ref:t,className:(0,r.Z)(o,s,"string"==typeof a?a:"")})});return c.displayName="string"==typeof e?e:e.displayName,c}}function a(e){return i(e)}a.a=i("a"),a.aside=i("aside"),a.button=i("button"),a.main=i("main"),a.div=i("div"),a.nav=i("nav"),a.fieldset=i("fieldset"),a.header=i("header"),a.h1=i("h1"),a.h2=i("h2"),a.h3=i("h3"),a.h4=i("h4"),a.h5=i("h5"),a.th=i("th"),a.td=i("td"),a.input=i("input"),a.label=i("label"),a.p=i("p"),a.section=i("section"),a.span=i("span"),a.li=i("li"),n.Z=a},58936:function(e,n,t){"use strict";function r(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,{_:function(){return r}})},44115:function(e,n,t){"use strict";function r(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=function e(n){var t,r,u="";if("string"==typeof n||"number"==typeof n)u+=n;else if("object"==typeof n){if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(r=e(n[t]))&&(u&&(u+=" "),u+=r);else for(t in n)n[t]&&(u&&(u+=" "),u+=t)}return u}(e))&&(r&&(r+=" "),r+=n);return r}t.d(n,{W:function(){return r}}),n.Z=r}},function(e){e.O(0,[248,2645,7992,8494,1293,1362,8114,1744],function(){return e(e.s=5805)}),_N_E=e.O()}]);